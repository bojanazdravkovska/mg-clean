trigger:
- master

pool:
  vmImage: ubuntu-latest

variables:
- group: GH_TOKEN
- name: GITHUB_REPO
  value: 'bojanazdravkovska/mg-clean'
- name: GITHUB_BRANCH
  value: 'master'

steps:
- checkout: self

- script: |
    git config --global user.email "azure-pipeline@yourdomain.com"
    git config --global user.name "Azure Pipeline"

    # Remove existing 'github' remote if it exists
    git remote remove github || true

    # Add GitHub remote
    git remote add github https://$(GH_TOKEN)@github.com/$(GITHUB_REPO).git

    # Push to GitHub
    git push github HEAD:$(GITHUB_BRANCH) --force
  displayName: 'Push changes to GitHub'

